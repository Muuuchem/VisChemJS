{"version":3,"sources":["webpack:///webpack/bootstrap 3ea620dd29ff65a4e8e0","webpack:///./javascript/main.js","webpack:///./javascript/atom.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;;AAEA;;;;;;;;ACxNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3ea620dd29ff65a4e8e0","import Atom from './atom';\n\nlet canvas,\n    context,\n    dragging = false,\n    dragStartCoords,\n    dragStopCoords,\n    fillBox,\n    snapshot,\n    lastAtom;\n\nlet bondType = 'single';\n\nlet structure = [];\n\nfunction getCanvasCoordinates(event) {\n    let x = event.clientX - canvas.getBoundingClientRect().left;\n    let y = event.clientY - canvas.getBoundingClientRect().top;\n\n        return {x: x, y: y};\n}\n\n// function drawHitCircle(position) {\n//   //position = dragStopCoords\n//   let circleCtx = context.getContent('2d');\n//   let midX = (position.x + dragStartCoords.x)/2;\n//   let midY = (position.y + dragStartCoords.y)/2;\n//   let radius = Math.sqrt(Math.pow((position.x - midX), 2) + Math.pow((position.y - midY), 2));\n//   circleCtx.strokeStyle = 'black';\n//   circleCtx.fillStyle = 'black';\n//   circleCtx.lineWidth = 4;\n//   circleCtx.lineCap = 'round';\n//   circleCtx.arc(midX, midY, radius, 0, 2*Math.pi);\n//   circleCtx.stroke();\n// }\n\nfunction draw(position) {\n\n    if (bondType === \"single\") {\n        drawBond(position);\n    }\n\n    if (bondType === \"double\") {\n        drawDoubleBond(position);\n    }\n\n    if (bondType === \"triple\") {\n        drawTripleBond(position);\n    }\n\n    if (bondType === 'ketone') {\n      drawKetone(position);\n    }\n}\n\nfunction drawKetone(position) {\n  context.beginPath();\n  context.moveTo(dragStartCoords.x, dragStartCoords.y);\n  context.lineTo(position.x, position.y);\n  context.stroke();\n\n  context.beginPath();\n  context.moveTo(dragStartCoords.x - 10, dragStartCoords.y);\n  context.lineTo(position.x - 10, position.y);\n  context.stroke();\n\n\n  context.beginPath();\n   context.arc(dragStopCoords.x, dragStopCoords.y + 10, 10, 2*Math.pi, 2*Math.pi);\n   context.stroke();\n}\n\nfunction drawTripleBond(position) {\n\n  context.beginPath();\n  context.moveTo(dragStartCoords.x, dragStartCoords.y);\n  context.lineTo(position.x, position.y);\n  context.stroke();\n\n  context.beginPath();\n  context.moveTo(dragStartCoords.x, dragStartCoords.y + 10);\n  context.lineTo(position.x, position.y + 10);\n  context.stroke();\n\n  context.beginPath();\n  context.moveTo(dragStartCoords.x, dragStartCoords.y - 10);\n  context.lineTo(position.x, position.y - 10);\n  context.stroke();\n\n}\n\nfunction drawDoubleBond(position) {\n  context.beginPath();\n  context.moveTo(dragStartCoords.x + 5, dragStartCoords.y - 5);\n  context.lineTo(position.x + 5, position.y - 5);\n  context.stroke();\n\n  context.beginPath();\n  context.moveTo(dragStartCoords.x - 5, dragStartCoords.y + 5);\n  context.lineTo(position.x - 5, position.y + 5);\n  context.stroke();\n}\n\nfunction drawBond(position) {\n  context.beginPath();\n  context.moveTo(dragStartCoords.x, dragStartCoords.y);\n  context.lineTo(position.x, position.y);\n  context.stroke();\n}\n\nfunction takeSnapshot() {\n    snapshot = context.getImageData(0, 0, canvas.width, canvas.height);\n}\n\nfunction restoreSnapshot() {\n    context.putImageData(snapshot, 0, 0);\n}\n\nfunction makeAtom(position) {\n  // if (!isAtomAtPos(start)) {\n  //   let startAtom = new Atom('carbon', 4, 0, start);\n  // }\n  let atom = new Atom('C', 4, 0, position);\n  structure.push(atom);\n  console.log(structure);\n  return atom;\n}\n\nfunction positionsArray() {\n  let positions = [];\n  structure.forEach((element) => {\n    positions.push(element.position);\n  });\n  return positions;\n}\n\nfunction isAtomAtPos(pos) {\n\n  for (let i = 0; i < positionsArray().length; i++) {\n    if ((pos.x <= (positionsArray()[i].x + 25) && pos.x >= (positionsArray()[i].x - 25))\n    && (pos.y <= (positionsArray()[i].y + 25) && pos.y >= (positionsArray()[i].y - 25))){\n      console.log('made it');\n      lastAtom = structure[i];\n      dragStartCoords = positionsArray()[i];\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction dragStart(event) {\n  dragging = true;\n  dragStartCoords = getCanvasCoordinates(event);\n  if (isAtomAtPos(dragStartCoords) === false) {\n    makeAtom(dragStartCoords);\n  } else {\n    console.log('falsey value');\n  }\n\n  takeSnapshot();\n}\n\nfunction drag(event) {\n\n  if (dragging) {\n    restoreSnapshot();\n    let position = getCanvasCoordinates(event);\n    draw(position);\n  }\n}\n\nfunction dragStop(event) {\n  dragging = false;\n  restoreSnapshot();\n  dragStopCoords = getCanvasCoordinates(event);\n  let position = getCanvasCoordinates(event);\n  let newAtom = makeAtom(position);\n  if (isAtomAtPos(dragStartCoords)) {\n    newAtom.attachAtom(lastAtom);\n    lastAtom.attachAtom(newAtom);\n  }\n  draw(position);\n  // drawHitCircle(position);\n}\n\nfunction init() {\n    canvas = document.getElementById(\"canvas\");\n    context = canvas.getContext('2d');\n    context.strokeStyle = 'black';\n    context.fillStyle = 'black';\n    context.lineWidth = 4;\n    context.lineCap = 'round';\n    fillBox = document.getElementById(\"fillBox\");\n\n    canvas.addEventListener('mousedown', dragStart, false);\n    canvas.addEventListener('mousemove', drag, false);\n    canvas.addEventListener('mouseup', dragStop, false);\n\n    document.getElementById(\"single\").addEventListener(\"click\", function(){\n        bondType = 'single';\n    });\n\n    document.getElementById(\"double\").addEventListener(\"click\", function(){\n        bondType = 'double';\n    });\n\n    document.getElementById(\"triple\").addEventListener(\"click\", function(){\n        bondType = 'triple';\n    });\n\n    document.getElementById(\"ketone\").addEventListener(\"click\", function(){\n        bondType = 'ketone';\n    });\n}\n\nwindow.addEventListener('load', init, false);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/main.js\n// module id = 0\n// module chunks = 0","class Atom {\n  constructor(chemical, oxidation, bonds, position) {\n    this.chemical = chemical;\n    this.oxidation = oxidation;\n    this.bonds = bonds || [];\n    this.charge = 0;\n    this.position = position;\n  }\n\n  changeCharge() {\n    if (this.bonds.length >= this.oxidation) {\n      this.charge = this.bonds.length - this.oxidation;\n    }\n  }\n\n  attachAtom(atom) {\n    this.bonds.push(atom);\n    this.changeCharge();\n  }\n\n}\n\nexport default Atom;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/atom.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}